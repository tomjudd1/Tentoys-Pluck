(function(){var e=[].slice;window.HAML=function(){function n(){}return n.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},n.cleanValue=function(e){switch(e){case null:case void 0:return"";case!0:case!1:return"\x93"+e;default:return e}},n.extend=function(){var n,o,t,r,i,a,s;for(o=arguments[0],r=2<=arguments.length?e.call(arguments,1):[],a=0,s=r.length;s>a;a++){t=r[a];for(n in t)i=t[n],o[n]=i}return o},n.globals=function(){return{}},n.context=function(e){return this.extend({},n.globals(),e)},n.preserve=function(e){return e.replace(/\n/g,"&#x000A;")},n.findAndPreserve=function(e){var n;return n="textarea,pre".split(",").join("|"),e=e.replace(/\r/g,"").replace(RegExp("<("+n+")>([\\s\\S]*?)</\\1>","g"),function(e,n,o){return"<"+n+">"+window.HAML.preserve(o)+"</"+n+">"})},n.surround=function(e,n,o){var t;return e+(null!=(t=o.call(this))?t.replace(/^\s+|\s+$/g,""):void 0)+n},n.succeed=function(e,n){var o;return(null!=(o=n.call(this))?o.replace(/\s+$/g,""):void 0)+e},n.precede=function(e,n){var o;return e+(null!=(o=n.call(this))?o.replace(/^\s+/g,""):void 0)},n.reference=function(e,n){var o,t,r,i;return t=n?n+"_":"",t+="function"==typeof e.hamlObjectRef?e.hamlObjectRef():((null!=(i=e.constructor)?i.name:void 0)||"object").replace(/\W+/g,"_").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase(),o="function"==typeof e.to_key?e.to_key():"function"==typeof e.id?e.id():e.id?e.id:e,r="class='"+t+"'",o?r+=" id='"+t+"_"+o+"'":void 0},n}()}).call(this);var App={Models:{},Routers:{},Collections:{},Views:{}};$(document).ready(function(){window.l=function(e){"undefined"!=typeof console&&"true"==localStorage.getItem("debug")&&console.log(e)},new App.Routers.Desktop}),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/home/home_not_supported"]=function(e){return function(){var e,n,o;return n=window.HAML.escape,e=window.HAML.cleanValue,o=[],o.push("<div class='videoHolder'>\n  <div class='small-message sorry-message'>\n    <p>\n      Sorry, it looks like your browser is feeling weak too. Feed it with an upgrade, or try swapping to \n      <a href='https://www.google.com/chrome/browser/desktop/\", target =>\"_blank'>\n        Google Chrome. \n      </a>\n      Here is what you're missing!\n    </p>\n    <br>\n  </div>\n  <div class='videoWrapper'>\n    <iframe src='//player.vimeo.com/video/114666758?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff' frameborder='0' webkitallowfullscreen='' mozallowfullscreen='' allowfullscreen='"+n(e(""))+"'></iframe>\n  </div>\n</div>"),o.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/home/home_touch_full"]=function(e){return function(){var e,n,o;return n=window.HAML.escape,e=window.HAML.cleanValue,o=[],o.push("<div class='videoHolder'>\n  <div class='overflow-helper' id='overflow-helper'>\n    <svg class='logo-svg' id='Layer_1' enable-background='new 0 0 536 256.5' version='1.1' viewBox='0 0 550 256.5' x='0px' xml:space='preserve' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' y='0px'>\n      <path d='M194.9,203.4L343.3,54.5\n	c19.1-19.1,45.4-30.8,74.4-30.8C475.9,23.7,523,70.8,523,129c0,58.1-47.1,105.3-105.3,105.3c-28.9,0-55-11.6-74.1-30.4L193.4,53.1\n	c-18.9-18.2-44.6-29.4-73-29.4C62.3,23.7,15.1,70.8,15.1,129c0,58.1,47.1,105.3,105.3,105.3C149.5,234.2,175.8,222.5,194.9,203.4z' fill='none' stroke='#fffbe4' stroke-miterlimit='10' stroke-width='30'></path>\n    </svg>\n    <h2>\n      Merry Christmas \n      <br>\n      from Animade\n    </h2>\n    <div class='small-message sorry-message'>\n      <p>\n        Here's a Christmas toy for you to play with. It was built for desktop browsers so have a play when you are back at your desk. It also works on the very latest mobiles and tablets. So if you're a fancy pants then give it a whirl. It might just work!\n      </p>\n      <br>\n    </div>\n    <a class='btn' href='mailto:?Subject=SANTA%20IS%20WEAK%21&Body=http%3A//santa.animade.tv/'>\n      Email this link To yourself \n    </a>\n    <a class='btn js-close-mob-promt' href='/'>\n      Give it a whirl\n    </a>\n    <div class='videoWrapper'>\n      <iframe src='//player.vimeo.com/video/114666758?title=0&amp;byline=0&amp;portrait=0&amp;color=ffffff' frameborder='0' webkitallowfullscreen='' mozallowfullscreen='' allowfullscreen='"+n(e(""))+"'></iframe>\n    </div>\n  </div>\n</div>"),o.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST["backbone/templates/home/home_touch"]=function(e){return function(){var e;return e=[],e.push("<div class='videoHolder'>\n  <div class='overflow-helper' id='overflow-helper'>\n    <h2>\n      Merry Christmas \n      <br>\n      from Animade\n    </h2>\n    <div class='small-message sorry-message'>\n      <p>\n        We\u2019ve made this toy to help bring Santa back to optimum tubbiness. It\u2019s built for desktop browsers, so hold tight \u2019til you\u2019re back at your big screen. It also works on the very latest mobiles and tablets, so if you\u2019re a real fancy-pants then give it a whirl!\n      </p>\n      <br>\n    </div>\n    <a class='btn' href='mailto:test?Subject=Play%20Animade%27s%20Christmas%20game&Body=We%20heard%20that%20Santa%20was%20lacking%20in%20belly-fuel%20this%20year%2C%20so%20we%20have%20made%20this%20toy%20to%20help%20bring%20him%20back%20to%20optimum%20tubbiness.%20Visit%20http%3A//santa.animade.tv%20to%20feed%20Santa%20up.'>\n      Email this link to yourself \n    </a>\n    <a class='btn js-close-mob-promt' href='/'>\n      Give it a whirl\n    </a>\n  </div>\n</div>"),e.join("\n").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(e))}}.call(this),App.Models.Person=Backbone.Model.extend({idAttribute:"id"}),App.Collections.People=Backbone.Collection.extend({model:App.Models.Person,url:"data/people.json"}),App.Views.Base=Backbone.View.extend({subViews:[],events:{"click .js-internal":"internalLink","click .js-close-mob-promt":"closeMobPromt"},initialize:function(e){var n=this;return n.options=e,$(".js-container").append(n.el),n},closeMobPromt:function(e){e.preventDefault(),$(".home").transit({opacity:0},500,function(){$(".home").remove()})},showCredits:function(e){e.preventDefault();$(e.currentTarget)},internalLink:function(e){var n=this;e.preventDefault();var o=$(e.currentTarget);n.options.router.transition(o.attr("href"))},destroy:function(e){var n=this;$(n.el).transition({opacity:0},500,function(){window.scrollTo(0,0);for(var o=n.subViews.length-1;o>=0;o--)n.subViews[o].unbind(),n.subViews[o].remove();n.unbind(),n.remove(),_.isFunction(e())&&e()})},render:function(e){var n,o=this,t="";return n={collection:o.options.collection,model:o.options.model},t+=JST["backbone/templates/"+o.options.tmpl](n),o.$el.html(t),$("body").append(o.$el),_.isUndefined(e)||_.isFunction(e)&&e(),o}}),App.Views.HomeIndex=App.Views.Base.extend({className:"home"}),App.Routers.Desktop=Backbone.Router.extend({currentView:null,initialize:function(){var e=this;e.app_state=_.extend({},Backbone.Events),e.collection=new App.Collections.People,e.collection.fetch().done(function(){e.options={app_state:e.app_state,collection:e.collection,router:e},Backbone.history.start({pushState:!1})})},routes:{"":"home_index"},home_index:function(){var e=this;Modernizr.touch?(e.options.tmpl="home/home_touch",e.currentView=new App.Views.HomeIndex(e.options).render()):Modernizr.canvas||(e.options.tmpl="home/home_not_supported",e.currentView=new App.Views.HomeIndex(e.options).render())}});